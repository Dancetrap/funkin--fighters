(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("domoMessage").classList.remove("hidden")};e.exports={handleError:t,sendPost:async(e,a,r)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await n.json();document.getElementById("domoMessage").classList.add("hidden"),c.redirect&&(window.location=c.redirect),c.error&&t(c.error),r&&r(c)},hideError:()=>{document.getElementById("domoMessage").classList.add("hidden")}}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,a),c.exports}(()=>{const e=a(603);let t;const r=e=>React.createElement("form",{id:"characterForm",action:"characters",method:"post"},React.createElement("input",{id:"characterField",type:"search",name:"name"}),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:t})),n=async t=>{if(t.preventDefault(),e.hideError(),!t.target.querySelector("#_id"))return!1;const a=t.target.querySelector("#_id").value,r=t.target.querySelector("#_csrf").value;if(!a||!r)return e.handleError("All fields are required!"),!1;e.sendPost(t.target.action,{_id:a,_csrf:r});const n=await fetch("/yourTeam");return await n.json(),await d(),!1},c=e=>{if(0===e.character.length||void 0===e.character.length)return React.createElement("div",{className:"characterList"},React.createElement("h3",{className:"emptyDomo"},"Nothing"));const a=e.character.map((e=>React.createElement("form",{id:"addToTeam",name:e.name,key:e._id,onSubmit:n,action:"/add",method:"POST",className:"set"},React.createElement("input",{type:"image",height:"150",src:e.image}),React.createElement("h3",{className:"characterName"}," ",e.name," "),React.createElement("input",{id:"_id",type:"hidden",name:"_id",value:e._id}),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:t}))));return React.createElement("div",{className:"characterList"},a)},o=e=>{let a=[];for(let e=0;e<20;e++){const r=React.createElement("form",{id:"characterSlot"+e,action:"/remove",method:"POST",className:"d-sides",key:e,onSubmit:n},React.createElement("input",{type:"image",height:"50",width:"50",src:"/assets/img/150.png",className:"player",id:e}),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:t}));a.push(r)}return a},d=async e=>{const t=await fetch("/yourteam"),a=(await t.json()).team[0].team;if(0!=a.length)for(let e=0;e<a.length;e++){const t=await fetch(`/getCharacter?name=${a[e]}`),r=await t.json(),n=document.getElementById(e);n.src=r.character.image,n.disable=!1,document.getElementById(`characterSlot${e}`).innerHTML+=`<input id="_id" type="hidden" name="_id" value=${r.character._id} />`}for(let e=a.length;e<20;e++){const t=document.getElementById(`characterSlot${e}`),a=t.querySelector("#_id");null!=a&&t.removeChild(a);const r=document.getElementById(e);r.src="/assets/img/150.png",r.disable=!0}};window.onload=async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken,ReactDOM.render(React.createElement(r,{csrf:t}),document.getElementById("search"));const n=document.querySelector("#characterField");n.addEventListener("input",(async()=>{ReactDOM.unmountComponentAtNode(document.getElementById("results"));const e=await fetch(`/searchCharacters?name=${n.value}`),t=await e.json();ReactDOM.render(React.createElement(c,{character:t}),document.getElementById("results"))})),ReactDOM.render(React.createElement(o,{csrf:t}),document.getElementById("team")),await fetch("/load",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_csrf:t})}),await fetch("/loadTeam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_csrf:t})}),await d()}})()})();